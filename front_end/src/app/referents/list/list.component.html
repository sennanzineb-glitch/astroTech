<!-- Titre de la page -->
<div class="page-header mb-4">
  <h3 class="page-title">Référents</h3>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="#">Référents</a></li>
      <li class="breadcrumb-item active" aria-current="page">Liste des référents</li>
    </ol>
  </nav>
</div>

<!-- Bouton ajouter -->
<div class="mb-1">
  <button type="button" class="btn btn-gradient-success btn-fw mb-3" [routerLink]="['/referents/edit']">
    Ajouter un référent
  </button>
</div>

<!-- Liste des référents -->
<div class="row g-3">
  <div class="col-md-6" *ngFor="let referent of referents">
    <div class="card h-100 p-3">
      <!-- Header de la carte avec boutons -->
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h5 class="card-title mb-0">{{ referent.nom }} {{ referent.prenom }}</h5>
        <div>
          <button
            [routerLink]="['/referents/edit', referent.id]"
            class="btn btn-sm btn-outline-warning me-1"
            title="Modifier"
          >
            <i class="mdi mdi-pencil"></i>
          </button>
          <button
            (click)="deleteReferent(referent.id)"
            class="btn btn-sm btn-outline-danger"
            title="Supprimer"
          >
            <i class="mdi mdi-delete"></i>
          </button>
        </div>
      </div>

      <!-- Infos contact -->
      <p class="mb-2">
        <strong>Email:</strong> {{ referent.email }} <br>
        <strong>Téléphone:</strong> {{ referent.telephone }}
      </p>

      <!-- Fichiers associés -->
      <ul class="mb-0">
        <li *ngFor="let f of referent.fichiers">
          {{ f.nom }} -
          <a [href]="'http://localhost:3002/uploads/' + f.chemin" target="_blank">Voir</a>
        </li>
      </ul>
    </div>
  </div>

  <!-- Si la liste est vide -->
  <div *ngIf="referents.length === 0" class="alert alert-secondary text-center">
    Aucun référent trouvé.
  </div>

</div>
